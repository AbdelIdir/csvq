---
layout: default
title: Value Types - Reference Manual - csvq
category: reference
---

# Value Types

* [Primitive Types](#primitive_types)
  * [String](#string)
  * [Integer](#integer)
  * [Float](#float)
  * [Boolean](#boolean)
  * [Ternary](#ternary)
  * [Datetime](#datetime)
  * [Null](#null)
* [Field Reference](#field_reference)
* [Calculation](#calculation)
  * [Arithmetic Operation](#arithmetic_operation)
  * [String Operation](#string_operation)
  * [Function](#function)
  * [Subquery](#subquery)
  * [Variable](#variable)
  * [Variable Substitution](#variable_substitution)
  * [Parentheses](#parentheses)
* [Control Flow](#control_flow)
  * [Case](#case)
* [Filter Condition](#filter_condition)
  * [Comparison Operation](#comparison_operation)
  * [Logic Operation](#logic_operation)
* [Cursor Status](#cursor_status)
  * [Cursor Is Open](#cursor_is_open)
  * [Cursor Is In Range](#cursor_is_in_range)
* [Automatic Type Casting](#automatic_type_casting)


## Primitive Types
{: #primitive_types}

### String
{: #string}

Character strings encoded in UTF-8.

### Integer
{: #integer}

64-bit signed integers.

### Float
{: #float}

64-bit floating point numbers.

### Boolean
{: #boolean}

Boolean values. true or false.

### Ternary
{: #ternary}

Values of three-valued logic. TRUE, UNKNOWN or FALSE.

### Datetime
{: #datetime}

Values of Date and time with nano seconds.

### Null
{: #null}

Representations of missing values.

## Field Reference
{: #field_reference}

References to fields in tables.

A field reference is represented by a column name or a table name and a column name joined with a full stop(U+002E).

```sql
id      -- column name only
user.id -- table name and column name
```

## Calculation
{: #calculation}

A Caluculation returns a value of any primitive type.

### Arithmetic Operation
{: #arithmetic_operation}

[Arithmetic Operators]({{ '/reference/arithmetic-operators.html' | relative_url }})

### String Operation
{: #string_operation}

[String Operators]({{ '/reference/string-operators.html' | relative_url }})

### Function
{: #function}

* [Aggregate Functions]({{ '/reference/aggregate-functions.html' | relative_url }})
* [Logical Functions]({{ '/reference/logical-functions.html' | relative_url }})
* [String Functions]({{ '/reference/string-functions.html' | relative_url }})
* [Numeric Functions]({{ '/reference/numeric-functions.html' | relative_url }})
* [DateTime Functions]({{ '/reference/datetime-functions.html' | relative_url }})
* [Cryptographic Hash Functions]({{ '/reference/cryptographic-hash-functions.html' | relative_url }})
* [Cast Functions]({{ '/reference/cast-functions.html' | relative_url }})
* [System Functions]({{ '/reference/system-functions.html' | relative_url }})
* [Analytic Functions]({{ '/reference/analytic-functions.html' | relative_url }})
* [User Defined Functions]({{ '/reference/user-defined-function.html' | relative_url }})

### Subquery
{: #subquery}

[Select Query]({{ '/reference/select-query.html' | relative_url }}) enclosed in parentheses.

A result set of a subquery must have exactly one field and at most one record.
If the result set has no record, that subquery returns null.

### Variable
{: #variable}

[Variable]({{ '/reference/variable.html' | relative_url }})

### Variable Substitution
{: #variable_substitution}

[Variable Substitution]({{ '/reference/variable.html#substitution' | relative_url }})

### Parentheses
{: #parentheses}

Values enclosed in parentheses.

Parentheses are used to specify the order of operations.

## Control Flow
{: #control_flow}

### Case
{: #case}

#### Case syntax with condition

```sql
CASE
  WHEN condition THEN result
  [WHEN condition THEN result ...]
  [ELSE result]
END
```

_condition_
: value

_result_
: value

This syntax returns the _result_ of the first WHEN expression that _condition_ is TRUE.
If no condition is TRUE, return the _result_ of the ELSE expression or null if there is no ELSE expression.


#### Case syntax with comparison

```sql
CASE value
  WHEN compare THEN result
  [WHEN compare THEN result ...]
  [ELSE result]
END
```

_value_
: value

_compare_
: value

_result_
: value

This syntax returns the _result_ of the first WHEN expression that _compare_ is equal to _value_.
If no _compare_ is match, return the _result_ of the ELSE expression or null if there is no ELSE expression.

## Filter Condition
{: #filter_condition}

A Filter Condition returns a ternary value.

### Comparison Operation
{: #comparison_operation}

[Comparison Operators]({{ '/reference/comparison-operators.html' | relative_url }})

### Logic Operation
{: #logic_operation}

[Logic Operators]({{ '/reference/logic-operators.html' | relative_url }})

## Cursor Status
{: #cursor_status}

### Cursor Is Open
{: #cursor_is_open}

```sql
CURSOR cursor_name IS [NOT] OPEN
```

_cursor_name_
: [identifier]({{ '/reference/statement.html#parsing' | relative_url }})

Return a ternary value indicating whether the cursor is open.

### Cursor Is In Range
{: #cursor_is_in_range}

```sql
CURSOR cursor_name IS [NOT] IN RANGE
```

_cursor_name_
: [identifier]({{ '/reference/statement.html#parsing' | relative_url }})

Return a ternary value indicating whether the cursor pointer is set to any existing record.
If the cursor is closed, then an error is occurred.
Before the first fetch, return UNKNOWN. 

## Automatic Type Casting
{: #automatic_type_casting}

Every Value has a primitive type. 
A value is converted to another primitive type as necessary.
For example, in arithmetic operations, both left-hand side value and right-hand side value are converted to float values.
If the conversion fails, then the value is converted to null.

Field values are imported as strings from csv.
You can cast value types expressly by using [cast functions]({{ '/reference/cast-functions.html' | relative_url }}).
This is useful to format output such as numbers in JSON format.

| convertion to | value type | descriptin |
| :- | :- | :- |
| String   | Integer  | A integer value is converted to a string representing a decimal integer. |
|          | Float    | A float value is converted to a string representing a floating-point decimal. |
|          | Datetime | A datetime value is converted to a null. |
|          | Boolean  | A boolean value is converted to a null. |
|          | Ternary  | A ternaly value is converted to a null. |
|          | Null     | A null value is kept as it is. |
| Integer  | String   | If a string is a representation of a decimal integer, then it is converted to a integer. Otherwise it is converted to a null. |
|          | Float    | If a float value has no value after the decimal point, then it is converted to a integer. Otherwise it is converted to a null. |
|          | Datetime | A datetime value is converted to a null. |
|          | Boolean  | A boolean value is converted to a null. |
|          | Ternary  | A ternaly value is converted to a null. |
|          | Null     | A null value is kept as it is. |
| Float    | String   | If a string is a representation of a floating-point decimal, then it is converted to a float. Otherwise it is converted to a null. |
|          | Integer  | A integer value is converted to a float. |
|          | Datetime | A datetime value is converted to a null. |
|          | Boolean  | A boolean value is converted to a null. |
|          | Ternary  | A ternary value is converted to a null. |
|          | Null     | A null value is kept as it is. |
| Datetime | String   | If a string value is a representation of a integer or float value, then it is converted to a datetime represented by the number as a unix time. If a string value is formatted as a datetime, then it is convered to a datetime. Otherwise it is converted to a null. |
|          | Integer  | A integer value is converted to a datetime represented by the integer value as a unix time. |
|          | Float    | A float value is converted to a datetime represented by the float value as a unix time. |
|          | Boolean  | A boolean value is converted to a null. |
|          | Ternary  | A ternaly value is converted to a null. |
|          | Null     | A null value is kept as it is. |
| Boolean  | String   | If a string value is any of '1', 't', 'T', 'TRUE', 'true' and 'True', then it is converted to true. If a string value is any of '0', 'f', 'F', 'FALSE' and 'false', then it is converted to false. Otherwise it is converted to a null. |
|          | Integer  | If a integer value is 1, then it is converted to true. If a integer value is 0, then it is converted to false. Otherwise it is converted to a null. |
|          | Float    | If a float value is 1, then it is converted to true. If a float value is 0, then it is converted to false. Otherwise it is converted to a null. |
|          | Datetime | A datetime value is converted to a null. |
|          | Ternary  | If a ternary value is TRUE, then it is converted to true. If a ternary value is FALSE, then it is converted to false. Otherwise it is converted to a null. |
|          | Null     | A null value is kept as it is. |
| Ternary  | String   | If a string value is any of '1', 't', 'T', 'TRUE', 'true' and 'True', then it is converted to TRUE. If a string value is any of '0', 'f', 'F', 'FALSE' and 'false', then it is converted to FALSE. Otherwise it is converted to UNKNOWN. |
|          | Integer  | If a integer value is 1, then it is converted to TRUE. If a integer value is 0, then it is converted to FALSE. Otherwise it is converted to UNKNOWN. |
|          | Float    | If a float value is 1, then it is converted to TRUE. If a float value is 0, then it is converted to FALSE. Otherwise it is converted to UNKNOWN. |
|          | Datetime | A datetime value is converted to UNKNOWN. |
|          | Boolean  | If a boolean value is true, then it is converted to TRUE. If a boolean value is false, then it is converted to FALSE. |
|          | Null     | A null value is converted to UNKNOWN. |
